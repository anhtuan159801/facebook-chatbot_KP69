2025-10-08T09:56:48: ğŸš€ Chatbot server is running on port 3001
2025-10-08T09:56:48: ğŸŒ Environment: production
2025-10-08T09:56:48: ğŸ”§ Available endpoints:
2025-10-08T09:56:48:    âœ… GET  /webhook - Facebook verification
2025-10-08T09:56:48:    ğŸ¤– POST /webhook - Pure Gemini AI processing
2025-10-08T09:56:48:    ğŸ§ª GET  /test - Server status
2025-10-08T09:56:48:    ğŸ’¬ POST /test-message - Test message processing
2025-10-08T09:56:48:    ğŸ“¤ POST /send-test-message - Test Facebook send
2025-10-08T09:56:48:    â¤ï¸  GET  /health - Health check
2025-10-08T09:56:48:    ğŸ“Š GET  /queue-status - Queue status details
2025-10-08T09:56:48:    ğŸš¨ POST /queue-reset - Emergency queue reset
2025-10-08T09:56:48: ğŸ¯ User Journey Enhanced Chatbot Ready!
2025-10-08T09:56:48: ğŸ“Š Daily quota limit: 45 requests
2025-10-08T09:56:48: â³ Queue system: Max 5 concurrent, 60s wait time
2025-10-08T09:57:02: ğŸ“¤ Valid message found, processing...
2025-10-08T09:57:02: ğŸ“‹ Queue Manager: Request 7364713036916648 (Queue #1) received
2025-10-08T09:57:02: ğŸš€ Queue Manager: Processing request 7364713036916648 (Queue #1)
2025-10-08T09:57:02: === PROCESS MESSAGE START ===
2025-10-08T09:57:02: Sender PSID: 7364713036916648
2025-10-08T09:57:02: Message text: Hi
2025-10-08T09:57:02: ğŸ¤– Processing user message: "Hi"
2025-10-08T09:57:03: ğŸ¤– Sending message to Gemini...
2025-10-08T09:57:03: âŒ ERROR in processMessage for 7364713036916648: GoogleGenerativeAIFetchError: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent: [429 Too Many Requests] You exceeded your current quota, please check your plan and billing details. For more information on this error, head to: https://ai.google.dev/gemini-api/docs/rate-limits.
2025-10-08T09:57:03:     at _makeRequestInternal (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\@google\generative-ai\dist\index.js:353:19)
2025-10-08T09:57:03:     at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-10-08T09:57:03:     at async generateContent (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\@google\generative-ai\dist\index.js:752:22)
2025-10-08T09:57:03:     at async ChatSession.sendMessage (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\@google\generative-ai\dist\index.js:1027:9)
2025-10-08T09:57:03:     at async processNormalMessage (C:\AnhTuan\Anh_Tuan\facebook-chatbot\gemini.js:430:20)
2025-10-08T09:57:03:     at async processMessage (C:\AnhTuan\Anh_Tuan\facebook-chatbot\gemini.js:361:13)
2025-10-08T09:57:03:     at async messageHandler (C:\AnhTuan\Anh_Tuan\facebook-chatbot\gemini.js:870:13)
2025-10-08T09:57:03:     at async QueueManager.processRequest (C:\AnhTuan\Anh_Tuan\facebook-chatbot\gemini.js:209:28)
2025-10-08T09:57:03:     at async handleMessage (C:\AnhTuan\Anh_Tuan\facebook-chatbot\gemini.js:878:9)
2025-10-08T09:57:03:     at async C:\AnhTuan\Anh_Tuan\facebook-chatbot\gemini.js:719:29 {
2025-10-08T09:57:03:   status: 429,
2025-10-08T09:57:03:   statusText: 'Too Many Requests',
2025-10-08T09:57:03:   errorDetails: undefined
2025-10-08T09:57:03: }
2025-10-08T09:57:03: Sending message to 7364713036916648 (attempt 1/3)
2025-10-08T09:57:06: âœ… Message sent successfully to 7364713036916648!
2025-10-08T09:57:06: === PROCESS MESSAGE END ===
2025-10-08T09:57:06: 
2025-10-08T09:57:06: âœ… Queue Manager: Request 7364713036916648 completed in 4140ms
2025-10-08T09:57:06: ğŸ“Š Queue Manager: Active requests: 0/5
2025-10-08T09:57:06: âœ… Message processed successfully
2025-10-08T09:57:06: ğŸ Webhook processing completed
2025-10-08T09:57:06: 
2025-10-08T10:01:29: ğŸš€ Chatbot server is running on port 3001
2025-10-08T10:01:29: ğŸŒ Environment: production
2025-10-08T10:01:29: ğŸ”§ Available endpoints:
2025-10-08T10:01:29:    âœ… GET  /webhook - Facebook verification
2025-10-08T10:01:29:    ğŸ¤– POST /webhook - Pure Gemini AI processing
2025-10-08T10:01:29:    ğŸ§ª GET  /test - Server status
2025-10-08T10:01:29:    ğŸ’¬ POST /test-message - Test message processing
2025-10-08T10:01:29:    ğŸ“¤ POST /send-test-message - Test Facebook send
2025-10-08T10:01:29:    â¤ï¸  GET  /health - Health check
2025-10-08T10:01:29:    ğŸ“Š GET  /queue-status - Queue status details
2025-10-08T10:01:29:    ğŸš¨ POST /queue-reset - Emergency queue reset
2025-10-08T10:01:29: ğŸ¯ User Journey Enhanced Chatbot Ready!
2025-10-08T10:01:29: ğŸ“Š Daily quota limit: 45 requests
2025-10-08T10:01:29: â³ Queue system: Max 5 concurrent, 60s wait time
2025-10-08T10:07:12: ğŸš€ Chatbot server is running on port 3001
2025-10-08T10:07:12: ğŸŒ Environment: production
2025-10-08T10:07:12: ğŸ”§ Available endpoints:
2025-10-08T10:07:12:    âœ… GET  /webhook - Facebook verification
2025-10-08T10:07:12:    ğŸ¤– POST /webhook - Pure Gemini AI processing
2025-10-08T10:07:12:    ğŸ§ª GET  /test - Server status
2025-10-08T10:07:12:    ğŸ’¬ POST /test-message - Test message processing
2025-10-08T10:07:12:    ğŸ“¤ POST /send-test-message - Test Facebook send
2025-10-08T10:07:12:    â¤ï¸  GET  /health - Health check
2025-10-08T10:07:12:    ğŸ“Š GET  /queue-status - Queue status details
2025-10-08T10:07:12:    ğŸš¨ POST /queue-reset - Emergency queue reset
2025-10-08T10:07:12: ğŸ¯ User Journey Enhanced Chatbot Ready!
2025-10-08T10:07:12: ğŸ“Š Daily quota limit: 45 requests
2025-10-08T10:07:12: â³ Queue system: Max 5 concurrent, 60s wait time
2025-10-08T10:14:02: ğŸš€ Chatbot server is running on port 3001
2025-10-08T10:14:02: ğŸŒ Environment: production
2025-10-08T10:14:02: ğŸ”§ Available endpoints:
2025-10-08T10:14:02:    âœ… GET  /webhook - Facebook verification
2025-10-08T10:14:02:    ğŸ¤– POST /webhook - Pure Gemini AI processing
2025-10-08T10:14:02:    ğŸ§ª GET  /test - Server status
2025-10-08T10:14:02:    ğŸ’¬ POST /test-message - Test message processing
2025-10-08T10:14:02:    ğŸ“¤ POST /send-test-message - Test Facebook send
2025-10-08T10:14:02:    â¤ï¸  GET  /health - Health check
2025-10-08T10:14:02:    ğŸ“Š GET  /queue-status - Queue status details
2025-10-08T10:14:02:    ğŸš¨ POST /queue-reset - Emergency queue reset
2025-10-08T10:14:02: ğŸ¯ User Journey Enhanced Chatbot Ready!
2025-10-08T10:14:02: ğŸ“Š Daily quota limit: 45 requests
2025-10-08T10:14:02: â³ Queue system: Max 5 concurrent, 60s wait time
2025-10-08T10:17:21: ğŸš€ Chatbot server is running on port 3001
2025-10-08T10:17:21: ğŸŒ Environment: production
2025-10-08T10:17:21: ğŸ”§ Available endpoints:
2025-10-08T10:17:21:    âœ… GET  /webhook - Facebook verification
2025-10-08T10:17:21:    ğŸ¤– POST /webhook - Pure Gemini AI processing
2025-10-08T10:17:21:    ğŸ§ª GET  /test - Server status
2025-10-08T10:17:21:    ğŸ’¬ POST /test-message - Test message processing
2025-10-08T10:17:21:    ğŸ“¤ POST /send-test-message - Test Facebook send
2025-10-08T10:17:21:    â¤ï¸  GET  /health - Health check
2025-10-08T10:17:21:    ğŸ“Š GET  /queue-status - Queue status details
2025-10-08T10:17:21:    ğŸš¨ POST /queue-reset - Emergency queue reset
2025-10-08T10:17:21: ğŸ¯ User Journey Enhanced Chatbot Ready!
2025-10-08T10:17:21: ğŸ“Š Daily quota limit: 45 requests
2025-10-08T10:17:21: â³ Queue system: Max 5 concurrent, 60s wait time
2025-10-08T10:37:32: âœ… Gemini Bot: AI initialized with gemini
2025-10-08T10:37:32: ğŸš€ Gemini Bot running on port 3001
2025-10-08T10:37:32: ğŸ¤– AI Provider: gemini
2025-10-08T10:38:00: âœ… Gemini Bot: AI initialized with gemini
2025-10-08T10:38:00: ğŸš€ Gemini Bot running on port 3001
2025-10-08T10:38:00: ğŸ¤– AI Provider: gemini
