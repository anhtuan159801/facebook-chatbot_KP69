2025-10-08T09:56:48: ğŸ¥ Health Checker started (Lazy Mode - only when needed)
2025-10-08T09:56:48: ğŸ¥ Health Checker in ON-DEMAND mode - no periodic checks
2025-10-08T09:56:48: ğŸš€ Load Balancer started successfully!
2025-10-08T09:56:48: ğŸŒ Running on port 3000
2025-10-08T09:56:48: ğŸ¯ Primary system: gemini
2025-10-08T09:56:48: ğŸ”„ Backup system: router_hug
2025-10-08T09:56:48: â° Recovery time: 12 hours
2025-10-08T09:56:48: ğŸ“Š Available endpoints:
2025-10-08T09:56:48:    âœ… GET  /webhook - Facebook verification
2025-10-08T09:56:48:    ğŸ¤– POST /webhook - Route to active system
2025-10-08T09:56:48:    ğŸ“Š GET  /status - System status
2025-10-08T09:56:48:    ğŸ¥ GET  /health - Health check
2025-10-08T09:56:48:    ğŸ”„ POST /force-switch - Manual system switch
2025-10-08T09:56:48: ğŸ‰ Load Balancer is ready to handle requests!
2025-10-08T09:57:02: ğŸ“¨ Received webhook request
2025-10-08T09:57:02: ğŸ¯ Performing on-demand health check
2025-10-08T09:57:02: ğŸ” Performing health check...
2025-10-08T09:57:02: âœ… gemini is healthy (133ms)
2025-10-08T09:57:02: âœ… router_hug is healthy (20ms)
2025-10-08T09:57:02: ğŸ“Š System Status: gemini | Gemini: healthy | Router: healthy
2025-10-08T09:57:02: ğŸ“¤ Routing request to Gemini
2025-10-08T10:01:29: ğŸ¥ Health Checker started (Lazy Mode - only when needed)
2025-10-08T10:01:29: ğŸ¥ Health Checker in ON-DEMAND mode - no periodic checks
2025-10-08T10:01:29: ğŸš€ Load Balancer started successfully!
2025-10-08T10:01:29: ğŸŒ Running on port 3000
2025-10-08T10:01:29: ğŸ¯ Primary system: gemini
2025-10-08T10:01:29: ğŸ”„ Backup system: router_hug
2025-10-08T10:01:29: â° Recovery time: 12 hours
2025-10-08T10:01:29: ğŸ“Š Available endpoints:
2025-10-08T10:01:29:    âœ… GET  /webhook - Facebook verification
2025-10-08T10:01:29:    ğŸ¤– POST /webhook - Route to active system
2025-10-08T10:01:29:    ğŸ“Š GET  /status - System status
2025-10-08T10:01:29:    ğŸ¥ GET  /health - Health check
2025-10-08T10:01:29:    ğŸ”„ POST /force-switch - Manual system switch
2025-10-08T10:01:29: ğŸ‰ Load Balancer is ready to handle requests!
2025-10-08T10:07:12: ğŸ¥ Health Checker started (Lazy Mode - only when needed)
2025-10-08T10:07:12: ğŸ¥ Health Checker in ON-DEMAND mode - no periodic checks
2025-10-08T10:07:12: ğŸš€ Load Balancer started successfully!
2025-10-08T10:07:12: ğŸŒ Running on port 3000
2025-10-08T10:07:12: ğŸ¯ Primary system: gemini
2025-10-08T10:07:12: ğŸ”„ Backup system: router_hug
2025-10-08T10:07:12: â° Recovery time: 12 hours
2025-10-08T10:07:12: ğŸ“Š Available endpoints:
2025-10-08T10:07:12:    âœ… GET  /webhook - Facebook verification
2025-10-08T10:07:12:    ğŸ¤– POST /webhook - Route to active system
2025-10-08T10:07:12:    ğŸ“Š GET  /status - System status
2025-10-08T10:07:12:    ğŸ¥ GET  /health - Health check
2025-10-08T10:07:12:    ğŸ”„ POST /force-switch - Manual system switch
2025-10-08T10:07:12: ğŸ‰ Load Balancer is ready to handle requests!
2025-10-08T10:14:02: ğŸ¥ Health Checker started (Lazy Mode - only when needed)
2025-10-08T10:14:02: ğŸ¥ Health Checker in ON-DEMAND mode - no periodic checks
2025-10-08T10:14:02: ğŸš€ Load Balancer started successfully!
2025-10-08T10:14:02: ğŸŒ Running on port 3000
2025-10-08T10:14:02: ğŸ¯ Primary system: gemini
2025-10-08T10:14:02: ğŸ”„ Backup system: router_hug
2025-10-08T10:14:02: â° Recovery time: 12 hours
2025-10-08T10:14:02: ğŸ“Š Available endpoints:
2025-10-08T10:14:02:    âœ… GET  /webhook - Facebook verification
2025-10-08T10:14:02:    ğŸ¤– POST /webhook - Route to active system
2025-10-08T10:14:02:    ğŸ“Š GET  /status - System status
2025-10-08T10:14:02:    ğŸ¥ GET  /health - Health check
2025-10-08T10:14:02:    ğŸ”„ POST /force-switch - Manual system switch
2025-10-08T10:14:02: ğŸ‰ Load Balancer is ready to handle requests!
2025-10-08T10:14:08: ğŸ” Performing on-demand health check
2025-10-08T10:14:08: ReferenceError: loadBalancer is not defined
2025-10-08T10:14:08:     at C:\AnhTuan\Anh_Tuan\facebook-chatbot\load_balancer.js:405:5
2025-10-08T10:14:08:     at Layer.handle [as handle_request] (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\layer.js:95:5)
2025-10-08T10:14:08:     at next (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\route.js:149:13)
2025-10-08T10:14:08:     at Route.dispatch (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\route.js:119:3)
2025-10-08T10:14:08:     at Layer.handle [as handle_request] (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\layer.js:95:5)
2025-10-08T10:14:08:     at C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\index.js:284:15
2025-10-08T10:14:08:     at Function.process_params (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\index.js:346:12)
2025-10-08T10:14:08:     at next (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\index.js:280:10)
2025-10-08T10:14:08:     at jsonParser (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\body-parser\lib\types\json.js:113:7)
2025-10-08T10:14:08:     at Layer.handle [as handle_request] (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\layer.js:95:5)
2025-10-08T10:17:20: ğŸ¥ Health Checker started (Lazy Mode - only when needed)
2025-10-08T10:17:20: ğŸ¥ Health Checker in ON-DEMAND mode - no periodic checks
2025-10-08T10:17:20: ğŸš€ Load Balancer started successfully!
2025-10-08T10:17:20: ğŸŒ Running on port 3000
2025-10-08T10:17:20: ğŸ¯ Primary system: gemini
2025-10-08T10:17:20: ğŸ”„ Backup system: router_hug
2025-10-08T10:17:20: â° Recovery time: 12 hours
2025-10-08T10:17:20: ğŸ“Š Available endpoints:
2025-10-08T10:17:20:    âœ… GET  /webhook - Facebook verification
2025-10-08T10:17:20:    ğŸ¤– POST /webhook - Route to active system
2025-10-08T10:17:20:    ğŸ“Š GET  /status - System status
2025-10-08T10:17:20:    ğŸ¥ GET  /health - Health check
2025-10-08T10:17:20:    ğŸ”„ POST /force-switch - Manual system switch
2025-10-08T10:17:20: ğŸ‰ Load Balancer is ready to handle requests!
2025-10-08T10:17:27: ğŸ” Performing on-demand health check
2025-10-08T10:17:27: ReferenceError: loadBalancer is not defined
2025-10-08T10:17:27:     at C:\AnhTuan\Anh_Tuan\facebook-chatbot\load_balancer.js:405:5
2025-10-08T10:17:27:     at Layer.handle [as handle_request] (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\layer.js:95:5)
2025-10-08T10:17:27:     at next (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\route.js:149:13)
2025-10-08T10:17:27:     at Route.dispatch (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\route.js:119:3)
2025-10-08T10:17:27:     at Layer.handle [as handle_request] (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\layer.js:95:5)
2025-10-08T10:17:27:     at C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\index.js:284:15
2025-10-08T10:17:27:     at Function.process_params (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\index.js:346:12)
2025-10-08T10:17:27:     at next (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\index.js:280:10)
2025-10-08T10:17:27:     at jsonParser (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\body-parser\lib\types\json.js:113:7)
2025-10-08T10:17:27:     at Layer.handle [as handle_request] (C:\AnhTuan\Anh_Tuan\facebook-chatbot\node_modules\express\lib\router\layer.js:95:5)
2025-10-08T10:37:57: ğŸ¥ Health Checker started (Lazy Mode - only when needed)
2025-10-08T10:37:57: ğŸ¥ Health Checker in ON-DEMAND mode - no periodic checks
2025-10-08T10:37:57: ğŸš€ Load Balancer started successfully!
2025-10-08T10:37:57: ğŸŒ Running on port 3000
2025-10-08T10:37:57: ğŸ¯ Primary system: gemini
2025-10-08T10:37:57: ğŸ”„ Backup system: router_hug
2025-10-08T10:37:57: â° Recovery time: 12 hours
2025-10-08T10:37:57: ğŸ“Š Available endpoints:
2025-10-08T10:37:57:    âœ… GET  /webhook - Facebook verification
2025-10-08T10:37:57:    ğŸ¤– POST /webhook - Route to active system
2025-10-08T10:37:57:    ğŸ“Š GET  /status - System status
2025-10-08T10:37:57:    ğŸ¥ GET  /health - Health check
2025-10-08T10:37:57:    ğŸ”„ POST /force-switch - Manual system switch
2025-10-08T10:37:57: ğŸ‰ Load Balancer is ready to handle requests!
